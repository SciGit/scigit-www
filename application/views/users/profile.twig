{% extends "base.twig" %}

{% block title "user.username's Profile" %}

{% block content %}

<div class="page-header">
  <h1>{{ user.username }}'s Profile</h1>
  <div class="pull-right snap-top">Joined <span class="date">{{ user.created | date("d/m/Y") }}</span></div>
</div>

{% if fulltitle %}
  <div class="fulltitle">{{ fulltitle }}</div>
{% endif %}
<div class="row-fluid profile-entry">
  <div class="span1 profile-field">
    Location
  </div>
  <div class="span11 profile-value">
    {{ user.location }}
  </div>
</div>
<div class="row-fluid profile-entry">
  <div class="span1 profile-field">
    About
  </div>
  <div class="span11 profile-value">
    {{ user.about }}
  </div>
</div>

<div class="separator"></div>

<div class="row-fluid">
  <div class="span6 well light-well">
    <h3>Projects</h3>
    <hr class="soften" />
    <ul>
      {% for project in projects %}
        <li class="project-entry">
          {{ anchor("/projects/view/#{project.id}", project.name) | raw }}
          <p class="date pull-right">{{ project.latest_change | date("d/m/Y") }}</p>
          <div class="project-description">{{ project.description }}</div>
          {% if not loop.last %}
            <hr class="soften" />
          {% endif %}
        </li>
      {% endfor %}
    </ul>
  </div>
  <div class="span6 well light-well">
    <h3>Recent Activity</h3>
    <hr class="soften" />
    <ul>
      {% for change in changes %}
        <li class="change-entry">
          To {{ anchor("/projects/view/#{change.proj_id}", change.name) | raw}}
          <p class="date pull-right">{{ change.commit_ts | date("d/m/Y") }}</p>
          <div class="change-description">{{ change.commit_msg }}</div>
        </li>
      {% endfor %}
    </ul>
  </div>
</div>

<div class="separator"></div>

{% endblock %}
