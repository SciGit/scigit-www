{% extends "base.twig" %}

{% block title "Register" %}

{%
set fields = [
	{
		'label': 'Username',
		'name': 'username',
		'id': 'username',
		'value': set_value('username'),
		'maxlength': 20,
		'size': 30,
	},
	{
		'label': 'Email',
		'name': 'email',
		'id': 'email',
		'value': set_value('email'),
		'maxlength': 80,
		'size': 30,
	},
	{
		'label': 'Password',
		'name': 'password',
		'id': 'password',
		'value': set_value('password'),
		'type': 'password',
		'maxlength': 20,
		'size': 30,
	},
	{
		'label': 'Confirm Password',
		'name': 'confirm_password',
		'id': 'confirm_password',
		'value': set_value('confirm_password'),
		'type': 'password',
		'maxlength': 20,
		'size': 30,
	}
]
%}

{% block content %}

<script>
$(document).ready(function() {
  $('.hero-unit').height($('.register-form').height());
});
</script>

<div class="page-header">
<h1>Register</h1>
</div>
<div class="row-fluid">
  <div class="span6 hero-unit">
    <h2>Collaboration made easy.</h2>
    <p>SciGit is a collaboration system for researchers to work on the same
    paper with version control easily.</p>
    <p>Use the same text editor you have now. Have the convenience to work
    offline.</p>
    <p>
      <a class="btn btn-primary btn-large" href="#">
        Learn more
      </a>
    </p>
  </div>
  <div class="span6">
    {{ form_open('', {class: 'form-horizontal register-form'}) | raw }}
    {% for field in fields %}
      <div class="control-group {% if errors[field['name']] or form_error(field['name']) %} error {% endif %}">
        <label class="control-label" for="{{ field['id'] }}">
          {{ field['label'] }}
        </label>
        <div class="controls">
          {{ form_input(field) | raw }}
          <span class="help-inline">
            {{ form_error(field['name']) | raw }}
            {{ errors[field['name']] }}
          </span>
        </div>
      </div>
    {% endfor %}
    <div class="control-group {% if form_error('recaptcha_response_field') or form_error('captcha') %} error {% endif %}">
      <label class="control-label" for="recaptcha_response_field">
        Captcha
      </label>
      <div class="controls">
        {% if use_recaptcha %}
          {{ recaptcha_html | raw }}
          <span class="help-inline">
            {{ form_error('recaptcha_response_field') | raw }}
          </span>
        {% else %}
          <p>{{ captcha_html | raw }}</p>
          {{ form_input('captcha', set_value('captcha')) | raw }}
          <span class="help-inline">
            {{ form_error('captcha') | raw }}
          </span>
        {% endif %}	
      </div>
    </div>
    <div class="form-actions">
      {{ form_submit({class: 'btn btn-primary', name: 'register'}, 'Register') | raw }}
      <a class="btn" href="/auth/forgot_password">Forgot password</a>
      <a class="btn" href="/auth/login">I already registered</a>
    </div>
    {{ form_close() | raw }}
  </div>
</div>
<hr class="soften"></hr>
<div class="row-fluid features">
  <div class="span4">
    <div class="feature-collaborate"></div>
    <h3>Collaborate with others without the mess.</h3>
    <p>No more -version19 John edits anymore. Keep track of changes done by
    each person and see the differences between papers. Merge edits easily.</p>
  </div>
  <div class="span4">
    <div class="feature-collaborate"></div>
    <h3>Collaborate with others without the mess.</h3>
    <p>No more -version19 John edits anymore. Keep track of changes done by
    each person and see the differences between papers. Merge edits easily.</p>
  </div>
  <div class="span4">
    <div class="feature-collaborate"></div>
    <h3>Collaborate with others without the mess.</h3>
    <p>No more -version19 John edits anymore. Keep track of changes done by
    each person and see the differences between papers. Merge edits easily.</p>
  </div>
</div>
<div class="row-fluid discover">
</div>

{% endblock %}
